dep_bool_menu "VFS (Virtual File System) support" VFS_SUPPORT

  dep_bool "Atmel SPI Dataflash" VFS_DF_SUPPORT $VFS_SUPPORT $ARCH_AVR

  dep_bool_menu "VFS File Inlining" VFS_INLINE_SUPPORT $VFS_SUPPORT $ARCH_AVR
    comment "-- You can enable various html pages for various features"
    dep_bool "Inline configuration page" CONFIG_INLINE_SUPPORT $VFS_INLINE_SUPPORT
    dep_bool "Inline the .config" VFS_CONFIG_INLINE_SUPPORT $CONFIG_INLINE_SUPPORT $VFS_INLINE_SUPPORT
    dep_bool "Inline message of the day" MOTD_INLINE_SUPPORT $MOTD_SUPPORT $VFS_INLINE_SUPPORT $EEPROM_SUPPORT
    if [ "$FS20_SEND_SUPPORT" = "y" -o "$PROTO_ASK_SUPPORT" = "y" ]; then
      dep_bool "Inline radio control" RADIO_INLINE_SUPPORT $VFS_INLINE_SUPPORT
    else
      dep_bool "Inline radio control" RADIO_INLINE_SUPPORT $VFS_INLINE_SUPPORT n
    fi
    dep_bool "Inline I2C" I2C_INLINE_SUPPORT $I2C_MASTER_SUPPORT $VFS_INLINE_SUPPORT
    dep_bool "Inline IO" VFS_IO_INLINE_SUPPORT $VFS_INLINE_SUPPORT
    dep_bool "Inline KTY" KTY_INLINE_SUPPORT $VFS_INLINE_SUPPORT $KTY_SUPPORT
    dep_bool "Inline ADC" ADC_INLINE_SUPPORT $VFS_INLINE_SUPPORT $ADC_SUPPORT
    dep_bool "Inline OneWire" ONEWIRE_INLINE_SUPPORT $VFS_INLINE_SUPPORT $ONEWIRE_ECMD_LIST_SUPPORT $ONEWIRE_DS18XX_SUPPORT
    if [ "$DHT_SUPPORT" = "y" -o "$SHT_SUPPORT" = "y" ]; then
      dep_bool "Inline humidity & temperature sensors" HAT_INLINE_SUPPORT $VFS_INLINE_SUPPORT
    else
      dep_bool "Inline humidity & temperature sensors" HAT_INLINE_SUPPORT $VFS_INLINE_SUPPORT n
    fi
    dep_bool "Inline Camera" CAMERA_INLINE_SUPPORT $VFS_INLINE_SUPPORT $VFS_DC3840_SUPPORT
    dep_bool "Inline Named Pin" NAMED_PIN_INLINE_SUPPORT $VFS_INLINE_SUPPORT $NAMED_PIN_SUPPORT
    dep_bool "Inline StellaLight" STELLA_INLINE_SUPPORT $VFS_INLINE_SUPPORT $STELLA_SUPPORT
    dep_bool "Inline MotorCurtain" MOTORCURTAIN_INLINE_SUPPORT $VFS_INLINE_SUPPORT $MOTORCURTAIN_SUPPORT
    dep_bool "Inline Dachs MSR1" MSR1_INLINE_SUPPORT $VFS_INLINE_SUPPORT $MSR1_SUPPORT
    dep_bool "Inline Tecos TO-1" TO1_INLINE_SUPPORT $VFS_INLINE_SUPPORT $TO1_SUPPORT
    dep_bool "Inline MCUF" MCUF_INLINE_SUPPORT $VFS_INLINE_SUPPORT $MCUF_MODUL_SUPPORT
    dep_bool "Inline uPnP" UPNP_INLINE_SUPPORT $VFS_INLINE_SUPPORT $UPNP_SUPPORT 
    dep_bool "Inline LCD" LCD_INLINE_SUPPORT $VFS_INLINE_SUPPORT $LCD_SUPPORT 
    dep_bool "Inline OpenStreetmap with NMEA Data" NMEA_INLINE_SUPPORT $VFS_INLINE_SUPPORT $NMEA_SUPPORT 
    dep_bool "Inline PWM Servo" PWM_SERVO_INLINE_SUPPORT $VFS_INLINE_SUPPORT $PWM_SERVO_SUPPORT
    dep_bool "Inline CW" CW_INLINE_SUPPORT $VFS_INLINE_SUPPORT $CW_SUPPORT
    dep_bool "Inline DMX" DMX_STORAGE_INLINE_SUPPORT $VFS_INLINE_SUPPORT $DMX_STORAGE_SUPPORT
    dep_bool "Inline Wake on Lan" WOL_INLINE_SUPPORT $WOL_SUPPORT $VFS_INLINE_SUPPORT

    comment "Inlining Options"
    dep_bool "Support Inline SVG" VFS_INLINE_INLINESVG_SUPPORT $VFS_INLINE_SUPPORT
    dep_bool "Support <input type=range> for Firefox" VFS_INLINE_HTML5_RANGE_FF_SUPPORT $VFS_INLINE_SUPPORT
    dep_bool "Optimize sizes when inlining" VFS_INLINE_HTML_CLEAN_SUPPORT $VFS_INLINE_SUPPORT
    dep_bool "Suport obsolete browsers" VFS_INLINE_OBSOLETE_BROWSER_SUPPORT $VFS_INLINE_SUPPORT

    comment  "Debugging Flags"
    dep_bool 'Keep dummy files' DEBUG_INLINE_DUMMY $VFS_INLINE_SUPPORT $DEBUG
    dep_bool 'Keep gzip files' DEBUG_INLINE_GZ $VFS_INLINE_SUPPORT $DEBUG
    dep_bool 'Disable gzip' DEBUG_INLINE_DISABLE_GZ $VFS_INLINE_SUPPORT $DEBUG
  endmenu

  if [ "$KTY_INLINE_SUPPORT" = "y" -o "$ONEWIRE_INLINE_SUPPORT" = "y" ]; then
    define_bool VFS_INLINE_INLINESVG_SUPPORT y
  fi

  dep_bool "Host Filesystem" VFS_HOST_SUPPORT $VFS_SUPPORT $ARCH_HOME

  dep_bool "SD/MMC-Card Filesystem" VFS_SD_SUPPORT $VFS_SUPPORT $SD_READER_SUPPORT $ARCH_AVR

  dep_bool "EEPROM (24cxx) Filesystem" VFS_EEPROM_SUPPORT $VFS_SUPPORT $I2C_24CXX_SUPPORT $ARCH_AVR
  if [ "$VFS_EEPROM_SUPPORT" = "y" ]; then
    int "VFS Pagesize" SFS_PAGE_SIZE 32
    int "VFS Pagecount" SFS_PAGE_COUNT 128    
  fi
  dep_bool "EEPROM (24cxx) Raw Access" VFS_EEPROM_RAW_SUPPORT $VFS_SUPPORT $I2C_24CXX_SUPPORT $ARCH_AVR
  dep_bool "DC3840 Camera" VFS_DC3840_SUPPORT $DC3840_SUPPORT $ARCH_AVR
  #dep_bool "  Proc FS" VFS_PROC_SUPPORT $VFS_SUPPORT

  define_bool DATAFLASH_SUPPORT $VFS_DF_SUPPORT

  comment  "Debugging Flags"
  dep_bool 'Dataflash File System' DEBUG_FS $DEBUG $DATAFLASH_SUPPORT
  dep_bool '  Inode Table' DEBUG_FS_INODETABLE $DEBUG_FS
  dep_bool '  Mark' DEBUG_FS_MARK $DEBUG_FS
  dep_bool 'VFS EEPROM' VFS_EEPROM_DEBUG_SUPPORT $DEBUG $VFS_EEPROM_SUPPORT
  
endmenu
