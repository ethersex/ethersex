dep_bool_menu "Buttons Input" BUTTONS_INPUT_SUPPORT $CONFIG_EXPERIMENTAL $ARCH_AVR
if [ "$BUTTONS_INPUT_SUPPORT" = "y" ]; then
	comment "I/O Pin configuration"
	dep_bool "Use internal pullups" CONF_BTN_USE_PULLUPS $BUTTONS_INPUT_SUPPORT
	choice "Button pressed level" 		\
    	"HIGH CONF_BUTTON_LVL_HIGH	\
	 	 LOW CONF_BUTTON_LVL_LOW" \
        'LOW'
	if [ "$CONF_BUTTON_LVL_HIGH" = "y" ]; then
      define_int CONF_BUTTON_LVL 1
    else
      define_int CONF_BUTTON_LVL 2
    fi

	comment  "Timing parameters"
	int "Debounce time (x*20 ms)" CONF_BTN_DEBOUNCE_TIME 4
	int "Longpress time (x*20 ms)" CONF_BTN_LONGPRESS_TIME 100
	
	comment  "Repeat function"
	dep_bool "Use Repeat" CONF_BTN_USE_REPEAT $BUTTONS_INPUT_SUPPORT
	if [ "$CONF_BTN_USE_REPEAT" = "y" ]; then
		int "Repeat time (x*20 ms)" CONF_BTN_REPEAT_TIME 175
		int "Repeat rate (x*20 ms)" CONF_BTN_REPEAT_RATE 25
	fi
	comment  "Debugging Flags"
	dep_bool "Button input Debug" DEBUG_BUTTONS_INPUT $DEBUG $BUTTONS_INPUT_SUPPORT
fi	
endmenu
