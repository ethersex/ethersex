dep_bool_menu "Blinkenlights - MicroControllerUnitFrame" MCUF_SUPPORT $UDP_SUPPORT

  usart_count_used
  if [ "$MCUF_SERIAL_SUPPORT" = y -o $USARTS -gt $USARTS_USED ]; then
   dep_bool_menu "MCUF usart" MCUF_SERIAL_SUPPORT $MCUF_SUPPORT
    if [ "$MCUF_SERIAL_SUPPORT" = y ]; then
      comment "MCUF serial screen configuration"
      int "MCUF serial screen width" MCUF_SERIAL_SCREEN_WIDTH 18
      int "MCUF serial screen height" MCUF_SERIAL_SCREEN_HEIGHT 8
    fi
   endmenu
  else
    define_bool MCUF_SERIAL_SUPPORT n
  fi

  dep_bool_menu "MCUF output" MCUF_OUTPUT_SUPPORT $MCUF_SUPPORT
    if [ "$MCUF_OUTPUT_SUPPORT" = y ]; then
      choice 'Output Device'\
	"BlinkenLightsPro	BLP_SUPPORT\
	 LED-Module16x16rg	LEDRG_SUPPORT"\
	 BlinkenLightsPro
      if [ "$BLP_SUPPORT" = y ]; then
        comment "MCUF output screen is 18x8 pixels"
        define_int MCUF_OUTPUT_SCREEN_WIDTH 18
        define_int MCUF_OUTPUT_SCREEN_HEIGHT 8
      elif [ "$LEDRG_SUPPORT" = y ]; then
        comment "MCUF output screen is 16x16 pixels"
        define_int MCUF_OUTPUT_SCREEN_WIDTH 16
        define_int MCUF_OUTPUT_SCREEN_HEIGHT 16
      fi
    else
      define_bool BLP_SUPPORT n
      define_bool LEDRG_SUPPORT n
    fi
  endmenu

  dep_bool "Workaround for MCUF-UDP-Packets with wrong max-value" MCUF_SERIAL_WORKAROUND_FOR_BAD_MCUF_UDP_PACKETS $MCUF_SUPPORT

  comment "MCUF ecmd commandos"
  dep_bool_menu "MCUF Scrolltext" MCUF_SCROLLTEXT_SUPPORT $MCUF_SUPPORT
    string "Startup Message" CONF_MCUF_SCROLLTEXT_STARTUP "Hi  I am your ethersex        ;-)  "
    int "Startup Message Color" CONF_MCUF_SCROLLTEXT_STARTUP_COLOR "16"
    int "Startup Message Background Color" CONF_MCUF_SCROLLTEXT_STARTUP_BG_COLOR "00"
    int "Startup Message Speed" CONF_MCUF_SCROLLTEXT_STARTUP_SPEED 1 
  endmenu
  dep_bool "MCUF Clock" MCUF_CLOCK_SUPPORT $MCUF_SUPPORT $CLOCK_SUPPORT

  comment "MCUF Module"
  dep_bool_menu "MCUF Module" MCUF_MODUL_SUPPORT $MCUF_SUPPORT
  dep_bool_menu "MCUF Module in Cron" MCUF_MODUL_CRON_SUPPORT $MCUF_SUPPORT
    choice 'Modul Display Mode Cron' \
     "sequence        MCUF_MODUL_DISPLAY_MODE_CRON_SEQUENCE \
      random          MCUF_MODUL_DISPLAY_MODE_CRON_RANDOM" \
      'random' MCUF_MODUL_DISPLAY_MODE_CRON
    endmenu
    choice 'ECMD Modul Display Mode' \
     "sequence        MCUF_MODUL_DISPLAY_MODE_SEQUENCE \
      random          MCUF_MODUL_DISPLAY_MODE_RANDOM \
      manual          MCUF_MODUL_DISPLAY_MODE_MANUAL" \
      'random' MCUF_MODUL_DISPLAY_MODE
    dep_bool "MCUF Chess" MCUF_CHESS_SUPPORT $MCUF_MODUL_SUPPORT
    dep_bool "MCUF Box" MCUF_BOX_SUPPORT $MCUF_MODUL_SUPPORT
    dep_bool "MCUF Clean" MCUF_CLEAN_SUPPORT $MCUF_MODUL_SUPPORT
    dep_bool "MCUF Spiral" MCUF_SPIRAL_SUPPORT $MCUF_MODUL_SUPPORT
    dep_bool "MCUF Image" MCUF_IMAGE_SUPPORT $MCUF_MODUL_SUPPORT
    dep_bool_menu "MCUF Module Borg-16" MCUF_MODUL_BORG16_SUPPORT $MCUF_SUPPORT
      dep_bool "MCUF Xoni Study1" MCUF_MODUL_BORG16_XONI_STUDY_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Matrix" MCUF_MODUL_BORG16_MATRIX_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Fire" MCUF_MODUL_BORG16_FIRE_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Spiral" MCUF_MODUL_BORG16_SPIRAL_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Joern1" MCUF_MODUL_BORG16_JOERN1_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Chessboard" MCUF_MODUL_BORG16_SCHACHBRETT_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Snake" MCUF_MODUL_BORG16_SNAKE_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Random Bright" MCUF_MODUL_BORG16_RANDOM_BRIGHT_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Test 1" MCUF_MODUL_BORG16_TEST1_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Test Level 1" MCUF_MODUL_BORG16_TESTL1_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Test Level 2" MCUF_MODUL_BORG16_TESTL2_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Test Level 3" MCUF_MODUL_BORG16_TESTL3_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Test Levels" MCUF_MODUL_BORG16_TESTLX_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Palette" MCUF_MODUL_BORG16_PALETTE_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Fade In" MCUF_MODUL_BORG16_FADEIN_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Tetris" MCUF_MODUL_BORG16_TETRIS_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      dep_bool "MCUF Game of life" MCUF_MODUL_BORG16_GAMEOFLIFE_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      if [ "$MCUF_MODUL_BORG16_GAMEOFLIFE_SUPPORT" = y ]; then
        dep_bool "MCUF Game of life - Glider Test" MCUF_MODUL_BORG16_GAMEOFLIFE_GLIDER_TEST_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
      fi
      dep_bool "MCUF Space Invaders" MCUF_MODUL_BORG16_INVADERS_SUPPORT $MCUF_MODUL_BORG16_SUPPORT
    endmenu
  endmenu


endmenu
